[1m=== Reranking Scale Experiment ===[0m
Scales: 5
Results: /Users/kerrykurian/Desktop/Repos/spread/experiment/results/rerank-scale


[1m========================================[0m
[1m  Running rerank.sh --scale 5[0m
[1m========================================[0m

[1m=== Reranking Experiment (scale 5) ===[0m
Embedding model: nomic-embed-text
Distance threshold: 0.5
RRF k: 60
Rerank model: gemma3:1b
RRF candidates for reranking: 20
Corpus scale: 5

[1mPhase 1: Seeding corpus (scale 5)...[0m
[1mInitializing database at /var/folders/_s/l40077nx3d3bv8127rcpwbjm0000gn/T/tmp.earzDxELlt/experiment.db[0m

[1mSeeding base entries (scale 5)...[0m
  [  1/120] entry #1 (cluster 1)
  [  2/120] entry #2 (cluster 1)
  [  3/120] entry #3 (cluster 1)
  [  4/120] entry #4 (cluster 1)
  [  5/120] entry #5 (cluster 1)
  [  6/120] entry #6 (cluster 1)
  [  7/120] entry #7 (cluster 1)
  [  8/120] entry #8 (cluster 1)
  [  9/120] entry #9 (cluster 1)
  [ 10/120] entry #10 (cluster 1)
  [ 11/120] entry #11 (cluster 2)
  [ 12/120] entry #12 (cluster 2)
  [ 13/120] entry #13 (cluster 2)
  [ 14/120] entry #14 (cluster 2)
  [ 15/120] entry #15 (cluster 2)
  [ 16/120] entry #16 (cluster 2)
  [ 17/120] entry #17 (cluster 2)
  [ 18/120] entry #18 (cluster 2)
  [ 19/120] entry #19 (cluster 2)
  [ 20/120] entry #20 (cluster 2)
  [ 21/120] entry #21 (cluster 3)
  [ 22/120] entry #22 (cluster 3)
  [ 23/120] entry #23 (cluster 3)
  [ 24/120] entry #24 (cluster 3)
  [ 25/120] entry #25 (cluster 3)
  [ 26/120] entry #26 (cluster 3)
  [ 27/120] entry #27 (cluster 3)
  [ 28/120] entry #28 (cluster 3)
  [ 29/120] entry #29 (cluster 3)
  [ 30/120] entry #30 (cluster 3)
  [ 31/120] entry #31 (cluster 4)
  [ 32/120] entry #32 (cluster 4)
  [ 33/120] entry #33 (cluster 4)
  [ 34/120] entry #34 (cluster 4)
  [ 35/120] entry #35 (cluster 4)
  [ 36/120] entry #36 (cluster 4)
  [ 37/120] entry #37 (cluster 4)
  [ 38/120] entry #38 (cluster 4)
  [ 39/120] entry #39 (cluster 4)
  [ 40/120] entry #40 (cluster 4)
  [ 41/120] entry #41 (cluster 5)
  [ 42/120] entry #42 (cluster 5)
  [ 43/120] entry #43 (cluster 5)
  [ 44/120] entry #44 (cluster 5)
  [ 45/120] entry #45 (cluster 5)
  [ 46/120] entry #46 (cluster 5)
  [ 47/120] entry #47 (cluster 5)
  [ 48/120] entry #48 (cluster 5)
  [ 49/120] entry #49 (cluster 5)
  [ 50/120] entry #50 (cluster 5)
  [ 51/120] entry #51 (cluster 6)
  [ 52/120] entry #52 (cluster 6)
  [ 53/120] entry #53 (cluster 6)
  [ 54/120] entry #54 (cluster 6)
  [ 55/120] entry #55 (cluster 6)
  [ 56/120] entry #56 (cluster 6)
  [ 57/120] entry #57 (cluster 6)
  [ 58/120] entry #58 (cluster 6)
  [ 59/120] entry #59 (cluster 6)
  [ 60/120] entry #60 (cluster 6)
  [ 61/120] entry #61 (cluster 7)
  [ 62/120] entry #62 (cluster 7)
  [ 63/120] entry #63 (cluster 7)
  [ 64/120] entry #64 (cluster 7)
  [ 65/120] entry #65 (cluster 7)
  [ 66/120] entry #66 (cluster 7)
  [ 67/120] entry #67 (cluster 7)
  [ 68/120] entry #68 (cluster 7)
  [ 69/120] entry #69 (cluster 7)
  [ 70/120] entry #70 (cluster 7)
  [ 71/120] entry #71 (cluster 8)
  [ 72/120] entry #72 (cluster 8)
  [ 73/120] entry #73 (cluster 8)
  [ 74/120] entry #74 (cluster 8)
  [ 75/120] entry #75 (cluster 8)
  [ 76/120] entry #76 (cluster 8)
  [ 77/120] entry #77 (cluster 8)
  [ 78/120] entry #78 (cluster 8)
  [ 79/120] entry #79 (cluster 8)
  [ 80/120] entry #80 (cluster 8)
  [ 81/120] entry #81 (cluster 9)
  [ 82/120] entry #82 (cluster 9)
  [ 83/120] entry #83 (cluster 9)
  [ 84/120] entry #84 (cluster 9)
  [ 85/120] entry #85 (cluster 9)
  [ 86/120] entry #86 (cluster 9)
  [ 87/120] entry #87 (cluster 9)
  [ 88/120] entry #88 (cluster 9)
  [ 89/120] entry #89 (cluster 9)
  [ 90/120] entry #90 (cluster 9)
  [ 91/120] entry #91 (cluster 10)
  [ 92/120] entry #92 (cluster 10)
  [ 93/120] entry #93 (cluster 10)
  [ 94/120] entry #94 (cluster 10)
  [ 95/120] entry #95 (cluster 10)
  [ 96/120] entry #96 (cluster 10)
  [ 97/120] entry #97 (cluster 10)
  [ 98/120] entry #98 (cluster 10)
  [ 99/120] entry #99 (cluster 10)
  [100/120] entry #100 (cluster 10)
  [101/120] entry #101 (cluster 0)
  [102/120] entry #102 (cluster 0)
  [103/120] entry #103 (cluster 0)
  [104/120] entry #104 (cluster 0)
  [105/120] entry #105 (cluster 0)
  [106/120] entry #106 (cluster 0)
  [107/120] entry #107 (cluster 0)
  [108/120] entry #108 (cluster 0)
  [109/120] entry #109 (cluster 0)
  [110/120] entry #110 (cluster 0)
  [111/120] entry #111 (cluster 0)
  [112/120] entry #112 (cluster 0)
  [113/120] entry #113 (cluster 0)
  [114/120] entry #114 (cluster 0)
  [115/120] entry #115 (cluster 0)
  [116/120] entry #116 (cluster 0)
  [117/120] entry #117 (cluster 0)
  [118/120] entry #118 (cluster 0)
  [119/120] entry #119 (cluster 0)
  [120/120] entry #120 (cluster 0)

  Base entries seeded: 120

[1mGenerating 3 paraphrases per entry...[0m
  [para    1] entry #121 (cluster 1)
  [para    2] entry #122 (cluster 1)
  [para    3] entry #123 (cluster 1)
  [para    4] entry #124 (cluster 1)
  [para    5] entry #125 (cluster 1)
  [para    6] entry #126 (cluster 1)
  [para    7] entry #127 (cluster 1)
  [para    8] entry #128 (cluster 1)
  [para    9] entry #129 (cluster 1)
  [para   10] entry #130 (cluster 1)
  [para   11] entry #131 (cluster 1)
  [para   12] entry #132 (cluster 1)
  [para   13] entry #133 (cluster 1)
  [para   14] entry #134 (cluster 1)
  [para   15] entry #135 (cluster 1)
  [para   16] entry #136 (cluster 1)
  [para   17] entry #137 (cluster 1)
  [para   18] entry #138 (cluster 1)
  [para   19] entry #139 (cluster 1)
  [para   20] entry #140 (cluster 1)
  [para   21] entry #141 (cluster 1)
  [para   22] entry #142 (cluster 1)
  [para   23] entry #143 (cluster 1)
  [para   24] entry #144 (cluster 1)
  [para   25] entry #145 (cluster 1)
  [para   26] entry #146 (cluster 1)
  [para   27] entry #147 (cluster 1)
  [para   28] entry #148 (cluster 1)
  [para   29] entry #149 (cluster 1)
  [para   30] entry #150 (cluster 1)
  [para   31] entry #151 (cluster 2)
  [para   32] entry #152 (cluster 2)
  [para   33] entry #153 (cluster 2)
  [para   34] entry #154 (cluster 2)
  [para   35] entry #155 (cluster 2)
  [para   36] entry #156 (cluster 2)
  [para   37] entry #157 (cluster 2)
  [para   38] entry #158 (cluster 2)
  [para   39] entry #159 (cluster 2)
  [para   40] entry #160 (cluster 2)
  [para   41] entry #161 (cluster 2)
  [para   42] entry #162 (cluster 2)
  [para   43] entry #163 (cluster 2)
  [para   44] entry #164 (cluster 2)
  [para   45] entry #165 (cluster 2)
  [para   46] entry #166 (cluster 2)
  [para   47] entry #167 (cluster 2)
  [para   48] entry #168 (cluster 2)
  [para   49] entry #169 (cluster 2)
  [para   50] entry #170 (cluster 2)
  [para   51] entry #171 (cluster 2)
  [para   52] entry #172 (cluster 2)
  [para   53] entry #173 (cluster 2)
  [para   54] entry #174 (cluster 2)
  [para   55] entry #175 (cluster 2)
  [para   56] entry #176 (cluster 2)
  [para   57] entry #177 (cluster 2)
  [para   58] entry #178 (cluster 2)
  [para   59] entry #179 (cluster 2)
  [para   60] entry #180 (cluster 2)
  [para   61] entry #181 (cluster 3)
  [para   62] entry #182 (cluster 3)
  [para   63] entry #183 (cluster 3)
  [para   64] entry #184 (cluster 3)
  [para   65] entry #185 (cluster 3)
  [para   66] entry #186 (cluster 3)
  [para   67] entry #187 (cluster 3)
  [para   68] entry #188 (cluster 3)
  [para   69] entry #189 (cluster 3)
  [para   70] entry #190 (cluster 3)
  [para   71] entry #191 (cluster 3)
  [para   72] entry #192 (cluster 3)
  [para   73] entry #193 (cluster 3)
  [para   74] entry #194 (cluster 3)
  [para   75] entry #195 (cluster 3)
  [para   76] entry #196 (cluster 3)
  [para   77] entry #197 (cluster 3)
  [para   78] entry #198 (cluster 3)
  [para   79] entry #199 (cluster 3)
  [para   80] entry #200 (cluster 3)
  [para   81] entry #201 (cluster 3)
  [para   82] entry #202 (cluster 3)
  [para   83] entry #203 (cluster 3)
  [para   84] entry #204 (cluster 3)
  [para   85] entry #205 (cluster 3)
  [para   86] entry #206 (cluster 3)
  [para   87] entry #207 (cluster 3)
  [para   88] entry #208 (cluster 3)
  [para   89] entry #209 (cluster 3)
  [para   90] entry #210 (cluster 3)
  [para   91] entry #211 (cluster 4)
  [para   92] entry #212 (cluster 4)
  [para   93] entry #213 (cluster 4)
  [para   94] entry #214 (cluster 4)
  [para   95] entry #215 (cluster 4)
  [para   96] entry #216 (cluster 4)
  [para   97] entry #217 (cluster 4)
  [para   98] entry #218 (cluster 4)
  [para   99] entry #219 (cluster 4)
  [para  100] entry #220 (cluster 4)
  [para  101] entry #221 (cluster 4)
  [para  102] entry #222 (cluster 4)
  [para  103] entry #223 (cluster 4)
  [para  104] entry #224 (cluster 4)
  [para  105] entry #225 (cluster 4)
  [para  106] entry #226 (cluster 4)
  [para  107] entry #227 (cluster 4)
  [para  108] entry #228 (cluster 4)
  [para  109] entry #229 (cluster 4)
  [para  110] entry #230 (cluster 4)
  [para  111] entry #231 (cluster 4)
  [para  112] entry #232 (cluster 4)
  [para  113] entry #233 (cluster 4)
  [para  114] entry #234 (cluster 4)
  [para  115] entry #235 (cluster 4)
  [para  116] entry #236 (cluster 4)
  [para  117] entry #237 (cluster 4)
  [para  118] entry #238 (cluster 4)
  [para  119] entry #239 (cluster 4)
  [para  120] entry #240 (cluster 4)
  [para  121] entry #241 (cluster 5)
  [para  122] entry #242 (cluster 5)
  [para  123] entry #243 (cluster 5)
  [para  124] entry #244 (cluster 5)
  [para  125] entry #245 (cluster 5)
  [para  126] entry #246 (cluster 5)
  [para  127] entry #247 (cluster 5)
  [para  128] entry #248 (cluster 5)
  [para  129] entry #249 (cluster 5)
  [para  130] entry #250 (cluster 5)
  [para  131] entry #251 (cluster 5)
  [para  132] entry #252 (cluster 5)
  [para  133] entry #253 (cluster 5)
  [para  134] entry #254 (cluster 5)
  [para  135] entry #255 (cluster 5)
  [para  136] entry #256 (cluster 5)
  [para  137] entry #257 (cluster 5)
  [para  138] entry #258 (cluster 5)
  [para  139] entry #259 (cluster 5)
  [para  140] entry #260 (cluster 5)
  [para  141] entry #261 (cluster 5)
  [para  142] entry #262 (cluster 5)
  [para  143] entry #263 (cluster 5)
  [para  144] entry #264 (cluster 5)
  [para  145] entry #265 (cluster 5)
  [para  146] entry #266 (cluster 5)
  [para  147] entry #267 (cluster 5)
  [para  148] entry #268 (cluster 5)
  [para  149] entry #269 (cluster 5)
  [para  150] entry #270 (cluster 5)
  [para  151] entry #271 (cluster 6)
  [para  152] entry #272 (cluster 6)
  [para  153] entry #273 (cluster 6)
  [para  154] entry #274 (cluster 6)
  [para  155] entry #275 (cluster 6)
  [para  156] entry #276 (cluster 6)
  [para  157] entry #277 (cluster 6)
  [para  158] entry #278 (cluster 6)
  [para  159] entry #279 (cluster 6)
  [para  160] entry #280 (cluster 6)
  [para  161] entry #281 (cluster 6)
  [para  162] entry #282 (cluster 6)
  [para  163] entry #283 (cluster 6)
  [para  164] entry #284 (cluster 6)
  [para  165] entry #285 (cluster 6)
  [para  166] entry #286 (cluster 6)
  [para  167] entry #287 (cluster 6)
  [para  168] entry #288 (cluster 6)
  [para  169] entry #289 (cluster 6)
  [para  170] entry #290 (cluster 6)
  [para  171] entry #291 (cluster 6)
  [para  172] entry #292 (cluster 6)
  [para  173] entry #293 (cluster 6)
  [para  174] entry #294 (cluster 6)
  [para  175] entry #295 (cluster 6)
  [para  176] entry #296 (cluster 6)
  [para  177] entry #297 (cluster 6)
  [para  178] entry #298 (cluster 6)
  [para  179] entry #299 (cluster 6)
  [para  180] entry #300 (cluster 6)
  [para  181] entry #301 (cluster 7)
  [para  182] entry #302 (cluster 7)
  [para  183] entry #303 (cluster 7)
  [para  184] entry #304 (cluster 7)
  [para  185] entry #305 (cluster 7)
  [para  186] entry #306 (cluster 7)
  [para  187] entry #307 (cluster 7)
  [para  188] entry #308 (cluster 7)
  [para  189] entry #309 (cluster 7)
  [para  190] entry #310 (cluster 7)
  [para  191] entry #311 (cluster 7)
  [para  192] entry #312 (cluster 7)
  [para  193] entry #313 (cluster 7)
  [para  194] entry #314 (cluster 7)
  [para  195] entry #315 (cluster 7)
  [para  196] entry #316 (cluster 7)
  [para  197] entry #317 (cluster 7)
  [para  198] entry #318 (cluster 7)
  [para  199] entry #319 (cluster 7)
  [para  200] entry #320 (cluster 7)
  [para  201] entry #321 (cluster 7)
  [para  202] entry #322 (cluster 7)
  [para  203] entry #323 (cluster 7)
  [para  204] entry #324 (cluster 7)
  [para  205] entry #325 (cluster 7)
  [para  206] entry #326 (cluster 7)
  [para  207] entry #327 (cluster 7)
  [para  208] entry #328 (cluster 7)
  [para  209] entry #329 (cluster 7)
  [para  210] entry #330 (cluster 7)
  [para  211] entry #331 (cluster 8)
  [para  212] entry #332 (cluster 8)
  [para  213] entry #333 (cluster 8)
  [para  214] entry #334 (cluster 8)
  [para  215] entry #335 (cluster 8)
  [para  216] entry #336 (cluster 8)
  [para  217] entry #337 (cluster 8)
  [para  218] entry #338 (cluster 8)
  [para  219] entry #339 (cluster 8)
  [para  220] entry #340 (cluster 8)
  [para  221] entry #341 (cluster 8)
  [para  222] entry #342 (cluster 8)
  [para  223] entry #343 (cluster 8)
  [para  224] entry #344 (cluster 8)
  [para  225] entry #345 (cluster 8)
  [para  226] entry #346 (cluster 8)
  [para  227] entry #347 (cluster 8)
  [para  228] entry #348 (cluster 8)
  [para  229] entry #349 (cluster 8)
  [para  230] entry #350 (cluster 8)
  [para  231] entry #351 (cluster 8)
  [para  232] entry #352 (cluster 8)
  [para  233] entry #353 (cluster 8)
  [para  234] entry #354 (cluster 8)
  [para  235] entry #355 (cluster 8)
  [para  236] entry #356 (cluster 8)
  [para  237] entry #357 (cluster 8)
  [para  238] entry #358 (cluster 8)
  [para  239] entry #359 (cluster 8)
  [para  240] entry #360 (cluster 8)
  [para  241] entry #361 (cluster 9)
  [para  242] entry #362 (cluster 9)
  [para  243] entry #363 (cluster 9)
  [para  244] entry #364 (cluster 9)
  [para  245] entry #365 (cluster 9)
  [para  246] entry #366 (cluster 9)
  [para  247] entry #367 (cluster 9)
  [para  248] entry #368 (cluster 9)
  [para  249] entry #369 (cluster 9)
  [para  250] entry #370 (cluster 9)
  [para  251] entry #371 (cluster 9)
  [para  252] entry #372 (cluster 9)
  [para  253] entry #373 (cluster 9)
  [para  254] entry #374 (cluster 9)
  [para  255] entry #375 (cluster 9)
  [para  256] entry #376 (cluster 9)
  [para  257] entry #377 (cluster 9)
  [para  258] entry #378 (cluster 9)
  [para  259] entry #379 (cluster 9)
  [para  260] entry #380 (cluster 9)
  [para  261] entry #381 (cluster 9)
  [para  262] entry #382 (cluster 9)
  [para  263] entry #383 (cluster 9)
  [para  264] entry #384 (cluster 9)
  [para  265] entry #385 (cluster 9)
  [para  266] entry #386 (cluster 9)
  [para  267] entry #387 (cluster 9)
  [para  268] entry #388 (cluster 9)
  [para  269] entry #389 (cluster 9)
  [para  270] entry #390 (cluster 9)
  [para  271] entry #391 (cluster 10)
  [para  272] entry #392 (cluster 10)
  [para  273] entry #393 (cluster 10)
  [para  274] entry #394 (cluster 10)
  [para  275] entry #395 (cluster 10)
  [para  276] entry #396 (cluster 10)
  [para  277] entry #397 (cluster 10)
  [para  278] entry #398 (cluster 10)
  [para  279] entry #399 (cluster 10)
  [para  280] entry #400 (cluster 10)
  [para  281] entry #401 (cluster 10)
  [para  282] entry #402 (cluster 10)
  [para  283] entry #403 (cluster 10)
  [para  284] entry #404 (cluster 10)
  [para  285] entry #405 (cluster 10)
  [para  286] entry #406 (cluster 10)
  [para  287] entry #407 (cluster 10)
  [para  288] entry #408 (cluster 10)
  [para  289] entry #409 (cluster 10)
  [para  290] entry #410 (cluster 10)
  [para  291] entry #411 (cluster 10)
  [para  292] entry #412 (cluster 10)
  [para  293] entry #413 (cluster 10)
  [para  294] entry #414 (cluster 10)
  [para  295] entry #415 (cluster 10)
  [para  296] entry #416 (cluster 10)
  [para  297] entry #417 (cluster 10)
  [para  298] entry #418 (cluster 10)
  [para  299] entry #419 (cluster 10)
  [para  300] entry #420 (cluster 10)
  [para  301] entry #421 (cluster 0)
  [para  302] entry #422 (cluster 0)
  [para  303] entry #423 (cluster 0)
  [para  304] entry #424 (cluster 0)
  [para  305] entry #425 (cluster 0)
  [para  306] entry #426 (cluster 0)
  [para  307] entry #427 (cluster 0)
  [para  308] entry #428 (cluster 0)
  [para  309] entry #429 (cluster 0)
  [para  310] entry #430 (cluster 0)
  [para  311] entry #431 (cluster 0)
  [para  312] entry #432 (cluster 0)
  [para  313] entry #433 (cluster 0)
  [para  314] entry #434 (cluster 0)
  [para  315] entry #435 (cluster 0)
  [para  316] entry #436 (cluster 0)
  [para  317] entry #437 (cluster 0)
  [para  318] entry #438 (cluster 0)
  [para  319] entry #439 (cluster 0)
  [para  320] entry #440 (cluster 0)
  [para  321] entry #441 (cluster 0)
  [para  322] entry #442 (cluster 0)
  [para  323] entry #443 (cluster 0)
  [para  324] entry #444 (cluster 0)
  [para  325] entry #445 (cluster 0)
  [para  326] entry #446 (cluster 0)
  [para  327] entry #447 (cluster 0)
  [para  328] entry #448 (cluster 0)
  [para  329] entry #449 (cluster 0)
  [para  330] entry #450 (cluster 0)
  [para  331] entry #451 (cluster 0)
  [para  332] entry #452 (cluster 0)
  [para  333] entry #453 (cluster 0)
  [para  334] entry #454 (cluster 0)
  [para  335] entry #455 (cluster 0)
  [para  336] entry #456 (cluster 0)
  [para  337] entry #457 (cluster 0)
  [para  338] entry #458 (cluster 0)
  [para  339] entry #459 (cluster 0)
  [para  340] entry #460 (cluster 0)
  [para  341] entry #461 (cluster 0)
  [para  342] entry #462 (cluster 0)
  [para  343] entry #463 (cluster 0)
  [para  344] entry #464 (cluster 0)
  [para  345] entry #465 (cluster 0)
  [para  346] entry #466 (cluster 0)
  [para  347] entry #467 (cluster 0)
  [para  348] entry #468 (cluster 0)
  [para  349] entry #469 (cluster 0)
  [para  350] entry #470 (cluster 0)
  [para  351] entry #471 (cluster 0)
  [para  352] entry #472 (cluster 0)
  [para  353] entry #473 (cluster 0)
  [para  354] entry #474 (cluster 0)
  [para  355] entry #475 (cluster 0)
  [para  356] entry #476 (cluster 0)
  [para  357] entry #477 (cluster 0)
  [para  358] entry #478 (cluster 0)
  [para  359] entry #479 (cluster 0)
  [para  360] entry #480 (cluster 0)

  Paraphrased entries seeded: 360

[1mDone. Total entries: 480 (base: 120, paraphrased: 360)[0m
Seeded 480 entries
Database contains 480 entries

[1mPhase 2: Running queries...[0m

  [ 1/20] Q01 (single): what logging backend does the system use?
    Keywords: logging backend system use
    FTS results: 20
    Vector results: 20
    RRF candidates: 20
    Reranking....................... 8s

  [ 2/20] Q02 (single): nomic-embed-text embedding dimensions and performance
    Keywords: nomicembedtext embedding dimensions performance
    FTS results: 20
    Vector results: 20
    RRF candidates: 20
    Reranking....................... 8s

  [ 3/20] Q03 (single): how was the classifier prompt tuned for accuracy?
    Keywords: classifier prompt tuned accuracy
    FTS results: 20
    Vector results: 20
    RRF candidates: 20
    Reranking....................... 8s

  [ 4/20] Q04 (single): consolidation-on-write and FTS5 schema design
    Keywords: consolidationonwrite fts5 schema design
    FTS results: 20
    Vector results: 20
    RRF candidates: 20
    Reranking....................... 8s

  [ 5/20] Q05 (single): JSON parse failures and timeout errors across tools
    Keywords: json parse failures timeout errors across tools
    FTS results: 20
    Vector results: 20
    RRF candidates: 20
    Reranking....................... 8s

  [ 6/20] Q06 (single): Ruby stdlib patterns for subprocess management
    Keywords: ruby stdlib patterns subprocess management
    FTS results: 20
    Vector results: 20
    RRF candidates: 20
    Reranking....................... 8s

  [ 7/20] Q07 (single): commit message conventions and branch strategy
    Keywords: commit message conventions branch strategy
    FTS results: 20
    Vector results: 20
    RRF candidates: 20
    Reranking....................... 8s

  [ 8/20] Q08 (single): end-to-end smoke test design and test isolation
    Keywords: endtoend smoke test design isolation
    FTS results: 20
    Vector results: 20
    RRF candidates: 20
    Reranking....................... 8s

  [ 9/20] Q09 (single): first-person voice and epistemic standards
    Keywords: firstperson voice epistemic standards
    FTS results: 20
    Vector results: 20
    RRF candidates: 20
    Reranking....................... 8s

  [10/20] Q10 (single): centralized logging with severity levels and tool names
    Keywords: centralized logging severity levels tool names
    FTS results: 20
    Vector results: 20
    RRF candidates: 20
    Reranking....................... 8s

  [11/20] Q11 (paraphrase): how is the software organized so separate components can cooperate?
    Keywords: software organized separate components cooperate
    FTS results: 20
    Vector results: 20
    RRF candidates: 20
    Reranking....................... 8s

  [12/20] Q12 (paraphrase): making the small language model give reliable categorization outputs
    Keywords: making small language model give reliable categorization outputs
    FTS results: 20
    Vector results: 20
    RRF candidates: 20
    Reranking....................... 8s

  [13/20] Q13 (paraphrase): troubleshooting systems that fail without warning and lose information silently
    Keywords: troubleshooting systems fail without warning lose information silently
    FTS results: 20
    Vector results: 20
    RRF candidates: 20
    Reranking....................... 8s

  [14/20] Q14 (paraphrase): why certain mathematical representations of text capture meaning better than others
    Keywords: certain mathematical representations text capture meaning better than others
    FTS results: 20
    Vector results: 20
    RRF candidates: 20
    Reranking....................... 8s

  [15/20] Q15 (paraphrase): keeping stored information consistent when new facts contradict old ones
    Keywords: keeping stored information consistent new facts contradict old ones
    FTS results: 20
    Vector results: 20
    RRF candidates: 20
    Reranking....................... 8s

  [16/20] Q16 (negative): advantages of hydroelectric power generation in mountainous regions
    Keywords: advantages hydroelectric power generation mountainous regions
    FTS results: 20
    Vector results: 14
    RRF candidates: 20
    Reranking....................... 8s

  [17/20] Q17 (negative): modern ceramic glaze firing techniques and kiln temperature control
    Keywords: modern ceramic glaze firing techniques kiln temperature control
    FTS results: 20
    Vector results: 3
    RRF candidates: 20
    Reranking....................... 8s

  [18/20] Q18 (negative): the impact of currency exchange rates on international trade balances
    Keywords: impact currency exchange rates international trade balances
    FTS results: 17
    Vector results: 4
    RRF candidates: 20
    Reranking....................... 8s

  [19/20] Q19 (negative): therapeutic benefits of mindfulness meditation for anxiety disorders
    Keywords: therapeutic benefits mindfulness meditation anxiety disorders
    FTS results: 1
    Vector results: 0
    RRF candidates: 1
    Reranking.... 1s

  [20/20] Q20 (negative): comparative analysis of Gothic and Romanesque architectural styles
    Keywords: comparative analysis gothic romanesque architectural styles
    FTS results: 20
    Vector results: 20
    RRF candidates: 20
    Reranking....................... 8s

[1mPhase 3: Analysis...[0m
# Cross-Encoder Reranking â€” Experiment Results (Scale 5)

Date: 2026-02-19T19:28:56Z
Embedding model: nomic-embed-text
Distance threshold: 0.5
RRF k: 60
Rerank model: gemma3:1b
RRF candidates for reranking: 20 â†’ top 10
Scale: 5
Corpus: 480 entries

## Direct-vocabulary queries (Q01-Q10)

| Query | RRF P@10 | Reranked P@10 | Delta |
|-------|----------|---------------|-------|
| Q01 | 1/10 | 1/10 | 0 |
| Q02 | 5/10 | 6/10 | +1 |
| Q03 | 7/10 | 7/10 | 0 |
| Q04 | 5/10 | 5/10 | 0 |
| Q05 | 2/10 | 2/10 | 0 |
| Q06 | 1/10 | 1/10 | 0 |
| Q07 | 7/10 | 5/10 | -2 |
| Q08 | 7/10 | 8/10 | +1 |
| Q09 | 10/10 | 6/10 | -4 |
| Q10 | 5/10 | 8/10 | +3 |

## Paraphrase queries (Q11-Q15)

| Query | RRF P@10 | Reranked P@10 | Delta |
|-------|----------|---------------|-------|
| Q11 | 2/10 | 3/10 | +1 |
| Q12 | 0/10 | 1/10 | +1 |
| Q13 | 0/10 | 0/10 | 0 |
| Q14 | 3/10 | 3/10 | 0 |
| Q15 | 3/10 | 4/10 | +1 |

## Negative queries (Q16-Q20): rerank score distribution

| Query | Candidates | Mean Score | Max Score | Scores > 0.5 |
|-------|------------|------------|-----------|-------------|
| Q16 | 20 | 0.000 | 0.000 | 0 |
| Q17 | 20 | 0.000 | 0.000 | 0 |
| Q18 | 20 | 0.000 | 0.000 | 0 |
| Q19 | 1 | 0.000 | 0.000 | 0 |
| Q20 | 20 | 0.000 | 0.000 | 0 |

## Aggregate

| Query type | N | Mean RRF P@10 | Mean Reranked P@10 | Mean Delta |
|------------|---|---------------|--------------------|-----------|
| Direct (Q01-Q10) | 10 | 5.00/10 | 4.90/10 | -0.10 |
| Paraphrase (Q11-Q15) | 5 | 1.60/10 | 2.20/10 | +0.60 |

## Hero example: Q10

Largest precision improvement: +3 entries

### RRF ranking (top 10)

~~~
rank	entry_id	cluster	rrf_score	channels	content
1	420	10	0.028039	fts+vec	The initial process of recording every detail of each content item was extensive 
2	418	10	0.027273	fts+vec	The initial method of recording every detail of a retrieval was implemented by l 
3	414	10	0.026172	fts+vec	The logging system employs text-based messages, rather than numerical codes. Spe 
4	91	10	0.016393	vec	spill logs to a single SQLite database shared across all tools. Each log entry r 
5	463	0	0.016393	fts	The Atacama Desert, located in Chile, stands as the most arid region on the plan 
6	462	0	0.016129	fts	The atmospheric pressure is fluctuating significantly, exceeding 24 millibars, o 
7	393	10	0.016129	vec	To consolidate all log data into a single SQLite database, which is accessible b 
8	460	0	0.015873	fts	The atmospheric pressure levels will decrease by more than 24 millibars over a p 
9	1	1	0.015873	vec	Switched spill from per-tool log files to a single SQLite database. Centralized  
10	458	0	0.015625	fts	In the year 2023, the Rugby World Cup held in France experienced unprecedented v 
~~~

### Reranked (top 10)

~~~
rank	entry_id	cluster	rerank_score	rrf_score	channels	content
1	392	10	0.999773	0.015385	vec	To consolidate all logging data, itâ€™s proposed to store these records within a s 
2	91	10	0.999388	0.016393	vec	spill logs to a single SQLite database shared across all tools. Each log entry r 
3	1	1	0.994890	0.015873	vec	Switched spill from per-tool log files to a single SQLite database. Centralized  
4	396	10	0.656518	0.015625	vec	The system utilizes three distinct severity classifications: detail, alert, and  
5	391	10	0.012597	0.015152	vec	The collection of log data should be consolidated into a single SQLite database, 
6	393	10	0.000002	0.016129	vec	To consolidate all log data into a single SQLite database, which is accessible b 
7	420	10	0.000000	0.028039	fts+vec	The initial process of recording every detail of each content item was extensive 
8	418	10	0.000000	0.027273	fts+vec	The initial method of recording every detail of a retrieval was implemented by l 
9	414	10	0.000000	0.026172	fts+vec	The logging system employs text-based messages, rather than numerical codes. Spe 
10	463	0	0.000000	0.016393	fts	The Atacama Desert, located in Chile, stands as the most arid region on the plan 
~~~

## Regression: Q09

Largest precision regression: -4 entries

### RRF ranking (top 10)

~~~
rank	entry_id	cluster	rrf_score	channels	content
1	365	9	0.029387	fts+vec	The voice is constructed through artificial intelligence, exhibiting a deliberat 
2	366	9	0.029324	fts+vec	The voice is presented as a synthetic intelligence, characterized by its precise 
3	386	9	0.029211	fts+vec	The composition should predominantly employ active voice and identifiable nouns. 
4	387	9	0.029199	fts+vec	The practice of writing should predominantly employ active voice and specific no 
5	385	9	0.02837	fts+vec	Hereâ€™s a rewritten version, maintaining the exact meaning:  To produce more effective communication, it is imperative to utilize active voic 
6	364	9	0.027418	fts+vec	The voice represents a synthetic form of intelligence, characterized by its deli 
7	363	9	0.026671	fts+vec	The core document, designated â€˜IDENTITY.mdâ€™, serves as the definitive reference  
8	361	9	0.026519	fts+vec	The core document, designated as core/IDENTITY.md, serves as the definitive sour 
9	362	9	0.026145	fts+vec	The core document, designated â€˜core/IDENTITY.mdâ€™, serves as the definitive repos 
10	82	9	0.016393	vec	The voice is first-person synthetic intelligence: precise, measured, authority t 
~~~

### Reranked (top 10)

~~~
rank	entry_id	cluster	rerank_score	rrf_score	channels	content
1	401	10	0.999999	0.015152	fts	When the SPILL feature is disabled, the output streams back to the standard erro 
2	455	0	0.999997	0.016393	fts	Wheat flour exhibits a greater concentration of protein compared to standard all 
3	366	9	0.999982	0.029324	fts+vec	The voice is presented as a synthetic intelligence, characterized by its precise 
4	392	10	0.999848	0.014925	fts	To consolidate all logging data, itâ€™s proposed to store these records within a s 
5	82	9	0.999168	0.016393	vec	The voice is first-person synthetic intelligence: precise, measured, authority t 
6	385	9	0.999017	0.02837	fts+vec	Hereâ€™s a rewritten version, maintaining the exact meaning:  To produce more effective communication, it is imperative to utilize active voic 
7	365	9	0.958334	0.029387	fts+vec	The voice is constructed through artificial intelligence, exhibiting a deliberat 
8	369	9	0.950840	0.015385	vec	The principles of epistemology emphasize the crucial distinction between a reaso 
9	364	9	0.508586	0.027418	fts+vec	The voice represents a synthetic form of intelligence, characterized by its deli 
10	414	10	0.147564	0.015385	fts	The logging system employs text-based messages, rather than numerical codes. Spe 
~~~

[1m========================================[0m
[1m  Experiment complete (168 minutes 45 seconds)[0m
[1m========================================[0m

Results in: /Users/kerrykurian/Desktop/Repos/spread/experiment/results/rerank-s5
Summary: /Users/kerrykurian/Desktop/Repos/spread/experiment/results/rerank-s5/summary.md

  Scale 5 completed in 168m 45s

[1m========================================[0m
[1m  Cross-Scale Summary[0m
[1m========================================[0m

# Cross-Encoder Reranking â€” Scale Experiment Results

Date: 2026-02-19T19:28:57Z

Scales tested: 1 5

## Scale 1 (120 entries)

| Query | Type | RRF P@10 | Reranked P@10 | Delta |
|-------|------|----------|---------------|-------|
| Q01 | single | 1/10 | 1/10 | 0 |
| Q02 | single | 6/10 | 7/10 | +1 |
| Q03 | single | 8/10 | 8/10 | 0 |
| Q04 | single | 4/10 | 4/10 | 0 |
| Q05 | single | 2/10 | 3/10 | +1 |
| Q06 | single | 3/10 | 4/10 | +1 |
| Q07 | single | 5/10 | 6/10 | +1 |
| Q08 | single | 6/10 | 6/10 | 0 |
| Q09 | single | 7/10 | 7/10 | 0 |
| Q10 | single | 6/10 | 6/10 | 0 |
| Q11 | paraphrase | 2/10 | 2/10 | 0 |
| Q12 | paraphrase | 4/10 | 5/10 | +1 |
| Q13 | paraphrase | 2/10 | 2/10 | 0 |
| Q14 | paraphrase | 4/10 | 4/10 | 0 |
| Q15 | paraphrase | 1/10 | 2/10 | +1 |

## Scale 5 (480 entries)

| Query | Type | RRF P@10 | Reranked P@10 | Delta |
|-------|------|----------|---------------|-------|
| Q01 | single | 1/10 | 1/10 | 0 |
| Q02 | single | 5/10 | 6/10 | +1 |
| Q03 | single | 7/10 | 7/10 | 0 |
| Q04 | single | 5/10 | 5/10 | 0 |
| Q05 | single | 2/10 | 2/10 | 0 |
| Q06 | single | 1/10 | 1/10 | 0 |
| Q07 | single | 7/10 | 5/10 | -2 |
| Q08 | single | 7/10 | 8/10 | +1 |
| Q09 | single | 10/10 | 6/10 | -4 |
| Q10 | single | 5/10 | 8/10 | +3 |
| Q11 | paraphrase | 2/10 | 3/10 | +1 |
| Q12 | paraphrase | 0/10 | 1/10 | +1 |
| Q13 | paraphrase | 0/10 | 0/10 | 0 |
| Q14 | paraphrase | 3/10 | 3/10 | 0 |
| Q15 | paraphrase | 3/10 | 4/10 | +1 |

## Aggregate: Cross-Scale Comparison

| Scale | Entries | Query Type | N | Mean RRF P@10 | Mean Reranked P@10 | Mean Delta |
|-------|---------|------------|---|---------------|--------------------|-----------|
| 1 | 120 | Direct | 10 | 4.80/10 | 5.20/10 | +0.40 |
| 1 | 120 | Paraphrase | 5 | 2.60/10 | 3.00/10 | +0.40 |
| **1** | **120** | **All** | **15** | **4.07/10** | **4.47/10** | **+0.40** |
| 5 | 480 | Direct | 10 | 5.00/10 | 4.90/10 | -0.10 |
| 5 | 480 | Paraphrase | 5 | 1.60/10 | 2.20/10 | +0.60 |
| **5** | **480** | **All** | **15** | **3.87/10** | **4.00/10** | **+0.13** |

## Negative Queries: Rerank Score Distribution by Scale

| Scale | Entries | Query | Candidates | Mean Score | Max Score | Scores > 0.5 |
|-------|---------|-------|------------|------------|-----------|-------------|
| 1 | 120 | Q16 | 8 | 0.000 | 0.000 | 0 |
| 1 | 120 | Q17 | 4 | 0.000 | 0.000 | 0 |
| 1 | 120 | Q18 | 3 | 0.000 | 0.000 | 0 |
| 1 | 120 | Q19 | 1 | 0.000 | 0.000 | 0 |
| 1 | 120 | Q20 | 18 | 0.000 | 0.000 | 0 |
| 5 | 480 | Q16 | 20 | 0.000 | 0.000 | 0 |
| 5 | 480 | Q17 | 20 | 0.000 | 0.000 | 0 |
| 5 | 480 | Q18 | 20 | 0.000 | 0.000 | 0 |
| 5 | 480 | Q19 | 1 | 0.000 | 0.000 | 0 |
| 5 | 480 | Q20 | 20 | 0.000 | 0.000 | 0 |

## Hypothesis: Does reranking help more at larger corpus sizes?

The hypothesis is that RRF degrades at scale (dual-channel overlap drops to zero)
while cross-encoder reranking evaluates content directly and is unaffected by
channel agreement. If true, the reranking delta should increase at larger scales.

| Scale | Mean RRF P@10 (all) | Mean Reranked P@10 (all) | Delta |
|-------|---------------------|--------------------------|-------|
| 1 (120 entries) | 4.07/10 | 4.47/10 | +0.40 |
| 5 (480 entries) | 3.87/10 | 4.00/10 | +0.13 |

[1m========================================[0m
[1m  Scale experiment complete (168m 47s)[0m
[1m========================================[0m

Results: /Users/kerrykurian/Desktop/Repos/spread/experiment/results/rerank-scale/summary.md
